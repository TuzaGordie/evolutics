<app-form-navigation [cashtitle] = "'Find Workflow Schedule'"></app-form-navigation>
<form [formGroup]="workflowScheduleForm" >
  <div class="container">
    <div class="row g-3">
      <div class="col-8">
        <div class="form-group mt-2">
          <label class="form-label">Task Code</label>
          <!-- <select class="form-control  control-bg-gray">
            <option></option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select> -->
          <select formControlName="code" class="form-control  control-bg-gray" required (change)="setValues()">
            <option [value]="null">Select Task Code</option>
            <option [value]="item.code" *ngFor="let item of taskcode">{{item.code}}</option>
            <!-- <option value="EVOTS_72815000_pFXey">EVOTS_72815000_pFXey</option> -->
          </select>
        </div>
      </div>

      <div class="col-4">
        <div class="form-group mt-2">
          <label class="form-label">Schedule Frequency</label>
          <select formControlName="scheduleFreq" class="form-control  control-bg-gray" required>
            <option [value]="null">Select Schedule Frequency</option>
            <option [value]="item.code" *ngFor="let item of schedulelist">{{item.title}}</option>
          </select>

        </div>
      </div>
    </div>
    <hr>
    <div class="row g-3">
      <div class="col-2">
        <div class="form-group">
          <label class="form-label">Start Date</label>
          <input class="form-control  control-bg-gray" formControlName="startDate" type="date"/>
        </div>
      </div>
      <div class="col-1">
        <div class="form-group">
          <label class="form-label">Start Time</label>
          <input class="form-control  control-bg-gray" formControlName="startTime" type="text"/>
        </div>
      </div>


      <div class="col-1">
        <div class="form-group">
          <label class="form-label">Task Duration</label>
          <input class="form-control  control-bg-gray" formControlName="scheduleSlaDays" type="text" placeholder="Days"/>
        </div>
      </div>
      <div class="col-1">

        <label class="form-label">&nbsp;</label>
        <input class="form-control  control-bg-gray" formControlName="scheduleSlaHours" type="text" placeholder="Hours"/>

      </div>


      <div class="col-2">
        <div class="form-group">
          <label class="form-label">End Date</label>
          <input class="form-control  control-bg-gray" formControlName="endDate" type="date"/>
        </div>
      </div>
      <div class="col-2">
        <div class="form-group">
          <label class="form-label">End Time</label>
          <input class="form-control  control-bg-gray" formControlName="endTime" type="text"/>
        </div>
      </div>
      <div class="col-2">
        <div class="form-group">
          <label class="form-label">Next Due Date</label>
          <input class="form-control  control-bg-gray" formControlName="nextDueDate" type="date"/>
        </div>
      </div>
      <div class="col-1">
        <div class="form-group">
          <label class="form-label">Next Due Time</label>
          <input class="form-control  control-bg-gray" formControlName="nextDueTime" type="text"/>
        </div>
      </div>

    </div>
    <hr>
    <div class="row g-3">
      <div class="col">
        <div class="form-group mt-2">
          <label class="form-label">Assigned to User Group</label>
          <input class="form-control  control-bg-gray"  formControlName="scheduleAssignedToGroup" type="text"/>
         <!--  <select class="form-control  control-bg-gray" [ngModel]="assignUsergroup" formControlName="assignedUserGroup">
            <option></option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select> -->
        </div>
      </div>
      <div class="col">
        <div class="form-group mt-2">
          <label class="form-label">Assigned to User</label>
          <input class="form-control  control-bg-gray"  formControlName="scheduleAssignedTo" type="text"/>
         <!--  <select class="form-control  control-bg-gray" formControlName="assignedUser">
            <option></option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select> -->
        </div>
      </div>
    </div>

    <div class="row g-3 my-3">
      <div class="col-4">
        <div class="form-group ">
          <label class="form-label">Ref Category (Optional)</label>
          <select formControlName="refCat" class="form-control  control-bg-gray" required>
            <option [value]="null">Select Ref Category</option>
            <option [value]="item.code" *ngFor="let item of reflist">{{item.code}} - {{item.title}}</option>
          </select>
        </div>
      </div>


      <div class="col-4">
        <div class="form-group">
          <label class="form-label">Ref Number</label>
          <input class="form-control  control-bg-gray" formControlName="refNo"  (change)="setRefNumber()" type="text"/>
        </div>
      </div>
      <div class="col-4">
        <div class="form-group">
          <label class="form-label">&nbsp;</label>
          <input class="form-control  control-bg-gray" type="text" formControlName="refDetails" placeholder="Ref Details"/>
        </div>

      </div>


    </div>
  <!--   <div class="row g-3 my-3">
      <div class="col-10 form-group"></div>
      <div class="col-2 form-group">
        <app-button [buttonType]="'addCustom'" (click)="incRef()" [text]="'Add Ref'"></app-button>
      </div>
    </div> -->
    <hr>
    <div class="row g-3">
      <div class="col">
        <div class="form-group mt-2">
          <label class="form-label">Description</label>
          <textarea class="form-control  control-bg-gray" formControlName="description"></textarea>
        </div>
      </div>
    </div>

    <div class="row my-5 justify-content-between">
      <div class="col-2 d-grid gap-1">
          <button class="btn btn-lg document-button" (click)="call_workflow_task_document_list()">
            <i class="fa fa-file"></i> Document
          </button>
        <!-- <app-button [buttonType]="'document'" (click)="call_workflow_task_document_list()"></app-button> -->

      </div>

      <div class="col-2 d-grid gap-1">
          <button class="btn btn-lg submit-button" (click)="onSubmit()">
            <i class="fa fa-check"></i> Submit
          </button>
        <!-- <app-button [buttonType]="'submit'" (click)="onSubmit()"></app-button> -->
      </div>
    </div>

  </div>
</form>
