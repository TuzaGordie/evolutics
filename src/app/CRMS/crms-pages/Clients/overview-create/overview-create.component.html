<app-form-navigation [title]="'CRM / Setup / Segments'"></app-form-navigation>
<div class="container-sm mt-5 " id="form-body">
  <div class="row g-3" [formGroup]="clientSegmentForm">
    <div class="col-5">
      <div class="form-group mt-2">
        <label class="form-label text-red">{{'Segment Code'|appTranslate|async}}</label>
        <input class="form-control  control-bg-gray" disable type="text" formControlName="clientSegment"/>
      </div>
    </div>

    <div class="col-7">
      <div class="form-group mt-2">
        <label class="form-label text-red">{{'Description'|appTranslate|async}}</label>
        <input class="form-control  control-bg-gray" type="text" formControlName="description"/>
      </div>
    </div>

  </div>

  <hr>

  <div class="row g-3 align-items-end" *ngFor="let attribute of clientSegmentAttributeForm.controls;let i = index">
    <div class="col">
      <div class="row">
        <ng-container [formGroup]="(attribute)|toAny">
          <div class="col-4">
            <div class="form-group mt-2">
              <label class="form-label text-red">{{'Customer Attribute'|appTranslate|async}}</label>
              <select class="form-control  control-bg-gray" formControlName="attribute">
                <option></option>
                <option *ngFor="let attribute of customerAttributesList" [value]="attribute.code">{{attribute.title}}
                </option>
              </select>
            </div>
          </div>
          <div class="col-2">
            <div class="form-group mt-2">
              <label class="form-label text-red">{{'Condition1'|appTranslate|async}}</label>
              <select class="form-control  control-bg-gray" formControlName="condition1">
                <option></option>
                <option *ngFor="let condition of conditionsList" [value]="condition.code">{{condition.code}} -
                  {{condition.title}}</option>
              </select>
            </div>
          </div>
          <div class="col-2">
            <div class="form-group mt-2">
              <label class="form-label text-red">{{'Value'|appTranslate|async}}</label>
              <input class="form-control  control-bg-gray" type="text" formControlName="value1" />
            </div>
          </div>
          <div class="col-2">
            <div class="form-group mt-2">
              <label class="form-label text-red">{{'Condition2'|appTranslate|async}}</label>
              <select class="form-control  control-bg-gray" formControlName="condition2">
                <option></option>
                <option *ngFor="let condition of conditionsList" [value]="condition.code">{{condition.code}} -
                  {{condition.title}}</option>
              </select>
            </div>
          </div>
          <div class="col-2">
            <div class="form-group mt-2">
              <label class="form-label text-red">{{'Value'|appTranslate|async}}</label>
              <input class="form-control  control-bg-gray" type="text" formControlName="value2" />
            </div>
          </div>
        </ng-container>
      </div>
    </div>
    <div class="col-auto d-flex">
    <app-btn [iconBtn]="true" icon="delete" type="danger-outline" (mclick)="delete(i)"></app-btn>
    <span class="mx-1"></span>
    <app-btn [iconBtn]="true" icon="add" type="outline" (mclick)="add(i+1)"></app-btn>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-10"></div>
    <div class="col-2">
      <div class="form-group mt-2">
        <app-button buttonType="submitRed"  (click)="submitClient()"></app-button>
      </div>
    </div>
  </div>

</div>
